{"version":3,"sources":["webpack:///src/app/pages/settings/settings.page.html","webpack:///src/app/pages/settings/settings-routing.module.ts","webpack:///src/app/pages/settings/settings.module.ts","webpack:///src/app/pages/settings/settings.page.scss","webpack:///src/app/pages/settings/settings.page.ts"],"names":["routes","path","component","SettingsPageRoutingModule","imports","forChild","exports","SettingsPageModule","declarations","SettingsPage","router","usuarioService","registroService","navCtrl","token","departamento","ciudades","changeName","changeApellido","changePhone","changeDepartamento","changeCiudad","localStorage","getItem","getData","obtenerDepar","navigate","obtenerUsuario","subscribe","resp","userdata","undefined","obtenerCiudad","ciuID","ciuActual","filter","data","ciudadID","event","detail","value","ciudad","obternerDepartamento","push","Departamento","depID","obtenerCiudades","Ciudad","onEditarForm","console","log","valid","valido","back","resetForm","selector","template"],"mappings":"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","file":"pages-settings-settings-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\" mode=\\\"md\\\">\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title style=\\\"padding: 0px;\\\">Mi perfil</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <form #editarForm=\\\"ngForm\\\" (ngSubmit)=\\\"onEditarForm(editarForm)\\\">\\n    <div class=\\\"main_content_div\\\" *ngIf=\\\"userdata\\\">\\n          <div class=\\\"user_back\\\">\\n            <ion-icon name=\\\"person\\\"></ion-icon>\\n        </div>\\n          <div class=\\\"detail_div\\\">\\n              <div class=\\\"light_box\\\">\\n                  <ion-icon name=\\\"call\\\"></ion-icon>\\n              </div>\\n                <ion-input \\n                    type=\\\"text\\\"\\n                    name=\\\"celular\\\" \\n                    placeholder=\\\"celular\\\" \\n                    [(ngModel)]=\\\"userdata.celular\\\" \\n                    [disabled]=\\\"changePhone == false\\\">\\n                </ion-input>\\n          </div>\\n          <div class=\\\"detail_div\\\">\\n              <div class=\\\"light_box\\\">\\n                  <ion-icon name=\\\"person\\\"></ion-icon>\\n              </div>\\n                <ion-input \\n                    type=\\\"text\\\" \\n                    placeholder=\\\"name\\\"\\n                    name=\\\"nombre\\\" \\n                    [(ngModel)]=\\\"userdata.nombre\\\" \\n                    [disabled]=\\\"changeName == false\\\">\\n                </ion-input>\\n              <ion-label class=\\\"abs_lbl\\\" *ngIf=\\\"changeName == false\\\" (click)=\\\"changeName = true\\\">editar</ion-label>\\n              <ion-label class=\\\"change_lbl\\\" *ngIf=\\\"changeName == true\\\" (click)=\\\"changeName = false\\\">cambiar</ion-label>\\n          </div>\\n          <div class=\\\"detail_div\\\">\\n              <div class=\\\"light_box\\\">\\n                  <ion-icon name=\\\"person\\\"></ion-icon>\\n              </div>\\n                <ion-input \\n                    type=\\\"text\\\"\\n                    name=\\\"apellido\\\" \\n                    placeholder=\\\"name\\\" \\n                    [(ngModel)]=\\\"userdata.apellido\\\" \\n                    [disabled]=\\\"changeApellido == false\\\" >\\n                </ion-input>\\n              <ion-label class=\\\"abs_lbl\\\" *ngIf=\\\"changeApellido == false\\\" (click)=\\\"changeApellido = true\\\">editar</ion-label>\\n              <ion-label class=\\\"change_lbl\\\" *ngIf=\\\"changeApellido == true\\\" (click)=\\\"changeApellido = false\\\">cambiar</ion-label>\\n          </div>\\n        \\n          <div class=\\\"detail_div\\\">\\n              <div class=\\\"light_box\\\">\\n                  <ion-icon name=\\\"map\\\"></ion-icon>\\n              </div>\\n              <ion-item>\\n                <ion-label>Departamento</ion-label>\\n                <ion-select name=\\\"departamento\\\" \\n                            interface=\\\"alert\\\"\\n                            [disabled]=\\\"changeDepartamento == false\\\" \\n                            [(ngModel)]=\\\"userdata.departamento\\\" \\n                            (ionChange)=\\\"obtenerDepartamento($event)\\\" \\n                            okText=\\\"Seleccionar\\\" \\n                            cancelText=\\\"Volver\\\">\\n                    <div *ngFor=\\\"let dep of departamento\\\" >\\n                        <ion-select-option \\n                            [value]=\\\"dep.departamentoID\\\">\\n                            {{dep.descripcion}}\\n                        </ion-select-option>\\n                    </div>\\n                </ion-select>\\n              </ion-item>\\n              <ion-label class=\\\"abs_lbl\\\" *ngIf=\\\"changeDepartamento == false\\\" (click)=\\\"changeDepartamento = true\\\">editar</ion-label>\\n              <ion-label class=\\\"change_lbl\\\" *ngIf=\\\"changeDepartamento == true\\\" (click)=\\\"changeDepartamento = false\\\">Cambiar</ion-label>\\n          </div>\\n          <div class=\\\"detail_div\\\">\\n              <div class=\\\"light_box\\\">\\n                  <ion-icon name=\\\"map\\\"></ion-icon>\\n              </div>\\n              <ion-item>\\n                <ion-label>Ciudad</ion-label>\\n                <ion-select name=\\\"ciudad\\\"\\n                            interface=\\\"alert\\\"\\n                            [disabled]=\\\"changeCiudad == false\\\"  \\n                            [(ngModel)]=\\\"userdata.ciudad\\\"  \\n                            (ionChange)=\\\"ciudadSeleccionada($event)\\\" \\n                            okText=\\\"Seleccionar\\\" \\n                            cancelText=\\\"Volver\\\">\\n                    <div *ngFor=\\\"let ciudad of ciudades\\\" >\\n                        <ion-select-option \\n                            [value]=\\\"ciudad.ciudadID\\\">\\n                            {{ciudad.descripcion}}\\n                        </ion-select-option>\\n                    </div>\\n                </ion-select>\\n              </ion-item>\\n              <ion-label class=\\\"abs_lbl\\\" *ngIf=\\\"changeCiudad == false\\\" (click)=\\\"changeCiudad = true\\\">editar</ion-label>\\n              <ion-label class=\\\"change_lbl\\\" *ngIf=\\\"changeCiudad == true\\\" (click)=\\\"changeCiudad = false\\\">cambiar</ion-label>\\n         </div>\\n            \\n         <ion-button \\n                        expand=\\\"block\\\"\\n                        shape=\\\"round\\\"\\n                        class=\\\"gredient_btn\\\" \\n                        type=\\\"submit\\\">\\n                Editar\\n            </ion-button>\\n    </div>\\n    </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \".main_content_div {\\n  padding: 16px;\\n}\\n.main_content_div .user_back {\\n  background: var(--ion-color-app-light);\\n  height: 100px;\\n  width: 100px;\\n  border-radius: 100%;\\n  position: relative;\\n  border: 2px solid var(--ion-color-primary);\\n  display: block;\\n  margin: auto;\\n  margin-bottom: 30px;\\n}\\n.main_content_div .user_back ion-icon {\\n  height: 86px;\\n  width: 86px;\\n  color: var(--ion-color-primary);\\n  background-position: top;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  border-radius: 100%;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n.main_content_div .name_lbl {\\n  text-align: center;\\n  margin-top: 20px;\\n  font-family: \\\"semi-bold\\\";\\n  margin-bottom: 20px;\\n}\\n.main_content_div .detail_div {\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n  margin-bottom: 16px;\\n}\\n.main_content_div .detail_div .light_box {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 5px;\\n  position: relative;\\n  margin-right: 10px;\\n  background: var(--ion-color-app-light);\\n}\\n.main_content_div .detail_div .light_box ion-icon {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  font-size: 20px;\\n  transform: translate(-50%, -50%);\\n  color: var(--ion-color-primary);\\n}\\n.main_content_div .detail_div ion-input {\\n  max-width: 70%;\\n}\\n.main_content_div .detail_div ion-select {\\n  max-width: 70px;\\n}\\n.main_content_div .detail_div .simp_lbl {\\n  font-family: \\\"medium\\\";\\n}\\n.main_content_div .detail_div .abs_icn {\\n  color: grey;\\n}\\n.main_content_div .detail_div .abs_lbl {\\n  position: absolute;\\n  right: 0;\\n  color: grey;\\n  font-size: 14px;\\n}\\n.main_content_div .detail_div .change_lbl {\\n  position: absolute;\\n  right: 0;\\n  color: var(--ion-color-primary);\\n  font-size: 14px;\\n}\\n.main_content_div .bold_lbl {\\n  font-size: 18px;\\n  font-family: \\\"semi-bold\\\";\\n  color: var(--ion-color-primary);\\n  margin-top: 30px;\\n  margin-bottom: 16px;\\n}\\n.main_content_div .gredient_btn {\\n  width: 100%;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtBQUNKO0FBQ0k7RUFDSSxzQ0FBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLDBDQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQUNSO0FBQVE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLCtCQUFBO0VBQ0Esd0JBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsZ0NBQUE7QUFFWjtBQUVJO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLHdCQUFBO0VBQ0EsbUJBQUE7QUFBUjtBQUdJO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQURSO0FBR1E7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHNDQUFBO0FBRFo7QUFHWTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBQUE7RUFDQSwrQkFBQTtBQURoQjtBQUtRO0VBQ0ksY0FBQTtBQUhaO0FBS1E7RUFFSSxlQUFBO0FBSlo7QUFPUTtFQUNJLHFCQUFBO0FBTFo7QUFPUTtFQUNJLFdBQUE7QUFMWjtBQVFRO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFOWjtBQVFRO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0VBQ0EsK0JBQUE7RUFDQSxlQUFBO0FBTlo7QUFZSTtFQUNJLGVBQUE7RUFDQSx3QkFBQTtFQUNBLCtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQVZSO0FBYUk7RUFDSSxXQUFBO0VBQ0EsU0FBQTtBQVhSIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5fY29udGVudF9kaXYge1xuICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgXG4gICAgLnVzZXJfYmFjayB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1hcHAtbGlnaHQpO1xuICAgICAgICBoZWlnaHQ6IDEwMHB4O1xuICAgICAgICB3aWR0aDogMTAwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICBoZWlnaHQ6IDg2cHg7XG4gICAgICAgICAgICB3aWR0aDogODZweDtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3A7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAubmFtZV9sYmwge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiAnc2VtaS1ib2xkJztcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICB9XG5cbiAgICAuZGV0YWlsX2RpdiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcblxuICAgICAgICAubGlnaHRfYm94IHtcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWFwcC1saWdodCk7XG5cbiAgICAgICAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpb24taW5wdXQge1xuICAgICAgICAgICAgbWF4LXdpZHRoOiA3MCU7XG4gICAgICAgIH1cbiAgICAgICAgaW9uLXNlbGVjdCB7XG4gICAgICAgICAgICAvLyBtYXgtd2lkdGg6IDcwJTtcbiAgICAgICAgICAgIG1heC13aWR0aDogNzBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zaW1wX2xibCB7XG4gICAgICAgICAgICBmb250LWZhbWlseTogJ21lZGl1bSc7XG4gICAgICAgIH1cbiAgICAgICAgLmFic19pY24ge1xuICAgICAgICAgICAgY29sb3I6IGdyZXk7XG4gICAgICAgIH1cblxuICAgICAgICAuYWJzX2xibCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG4gICAgICAgIC5jaGFuZ2VfbGJsIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgXG5cbiAgICAuYm9sZF9sYmwge1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiAnc2VtaS1ib2xkJztcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICB9XG4gICAgXG4gICAgLmdyZWRpZW50X2J0biB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgfVxuXG59Il19 */\";","import { Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { UsuarioService } from '../../services/usuario.service';\nimport { Usuario, Departamento, Ciudad } from '../../interfaces/interfaces';\nimport { RegistroService } from '../../services/registro.service';\nimport { NgForm } from '@angular/forms';\nimport { NavController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n\n  token = ''\n  userdata: Usuario;\n  departamento: Departamento[] = []\n  ciudades: Ciudad[] = []\n\n  changeName = false;\n  changeApellido = false;\n  changePhone = false;\n  changeDepartamento = false;\n  changeCiudad = false;\n\n\n  constructor(private router: Router, \n              private usuarioService: UsuarioService, \n              private registroService: RegistroService, \n              private navCtrl: NavController\n              ) { }\n\n  async ngOnInit() {\n\n    // obtenemos el token que se encuentra en el localstorage\n    this.token = localStorage.getItem('token');\n\n    // hacemos el llamado del metodo getData para obtener los datos del usuario\n    // se encuentra en el token\n    await this.getData(this.token)\n\n    // hacemos el llamado del metodo obtenerDepar para cargar la seleccion de departamentos \n    await this.obtenerDepar();\n  }\n\n  goToDocList() {\n      this.router.navigate(['/doc-list']);\n  }\n\n\n  /** METODO PARA OBTENER LOS DATOS DEL USUARIO QUE VIENEN EN EL TOKEN */\n  async getData(token: string) {\n\n    await this.usuarioService.obtenerUsuario(token).subscribe(resp => {\n      // console.log('Usuario',resp['usuario']);\n      this.userdata = resp['usuario'];\n      // console.log('user data departamento', this.userdata.departamento);\n\n      // en caso que el departamento no exista en el usuario entonces retornamos\n      if(this.userdata.departamento === undefined) { return;}\n\n      // en caso que pase la ultima condicion procedemos a hacer el llamado\n      // para obtener el departamento y la ciudad actual\n      // this.obtenerdepactual(this.userdata.departamento); // no hace falta\n      this.obtenerCiudad(this.userdata.departamento)\n    })\n\n  }\n\n  /** METODO PARA OBTENER EL DEPARTAMENTO ACTUAL */\n  /** NO HACE FALTA */\n  // obtenerdepactual(depID: string) {\n  //   const depActual: Departamento[] = this.departamento.filter(data => data.departamentoID === depID)\n  //   // console.log(depActual);\n  // }\n\n  /** METODO PARA OBTENER LA CIUDAD ACTUAL */\n  obtenerciudadactual(ciuID: string) {\n    const ciuActual: Ciudad[] = this.ciudades.filter(data => data.ciudadID === ciuID);\n    // prueba\n    this.ciudades = ciuActual\n  }\n\n\n  /** OBTENER DEPARTAMENTO SELECCIONADO EN CASO DE QUE CAMBIE EL USUARIO*/\n  obtenerDepartamento(event: CustomEvent) {\n    // console.log('Obtener departamento EVENT');\n    // console.log(event.detail.value);\n    this.userdata.departamento=event.detail.value\n    this.ciudades = [];\n    this.obtenerCiudad(event.detail.value)\n  }\n\n  /** OBTENER CIUDAD SELECCIONADA EN CASO QUE CAMBIE EL USUARIO */\n  ciudadSeleccionada(event: CustomEvent) {\n    // console.log('Obtener ciudad EVENT');\n    this.userdata.ciudad = event.detail.value\n    // console.log(this.userdata);\n  }\n  \n\n  /** OBTENER DEPARTAMENTOS */\n  obtenerDepar() {\n    \n    this.registroService.obternerDepartamento().subscribe(resp => {\n  \n      // hacemos la insercion en el arreglo de la respuesta\n      this.departamento.push(...resp.Departamento);\n    \n    })\n  }\n\n  /** OBTENER CIUDAD */\n  obtenerCiudad(depID: string) {\n    this.registroService.obtenerCiudades(depID).subscribe(resp => {\n      \n      // hacemos la insersion en el arreglo de ciudades\n      this.ciudades.push(...resp.Ciudad);\n\n      // si la ciudad id no existe retorna\n      if(this.userdata.ciudad === undefined) { \n        // this.obtenerciudadactual(this.userdata.ciudad)\n        return; \n      }\n    })\n  }\n\n\n\n  async onEditarForm(onEditarForm: NgForm) {\n    console.log(onEditarForm.valid);\n    console.log(onEditarForm.value);\n    // console.log('departamento ',onEditarForm.value.departamento);\n    // console.log('ciudad ',onEditarForm.value.ciudad);\n    // console.log(this.userdata);\n\n    if ( !onEditarForm.value.ciudad) {\n      console.log('no tiene ciudad');\n    }\n    return\n    const valido = await this.registroService.editarUsuario(this.userdata, this.token)\n    if(valido) {\n\n      // en caso que la promesa retorne true entonces navegamos al home\n      // ya que login fue exitoso\n      this.navCtrl.back();\n    } else {\n      // caso contrario reseteamos el formulario\n      onEditarForm.resetForm();\n    }\n  }\n\n}\n"]}