{"version":3,"sources":["webpack:///src/app/pages/verification/verification.page.html","webpack:///src/app/pages/verification/verification-routing.module.ts","webpack:///src/app/pages/verification/verification.module.ts","webpack:///src/app/pages/verification/verification.page.scss","webpack:///src/app/pages/verification/verification.page.ts"],"names":["routes","path","component","VerificationPageRoutingModule","imports","forChild","exports","VerificationPageModule","forRoot","declarations","VerificationPage","route","storage","navCtrl","authService","registroService","rol","departamento","ciudades","usuarioRegistro","celular","nombre","apellido","password","ciudad","obternerDepartamento","subscribe","resp","push","Departamento","registerForm","invalid","console","log","registrarUsuario","valido","navigateRoot","resetForm","back","event","data","detail","value","obtenerCiudades","depID","Ciudad","selector","template"],"mappings":"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","file":"pages-verification-verification-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar>\\n        <ion-button (click)=\\\"goBack()\\\" fill=\\\"clear\\\" size=\\\"small\\\" slot=\\\"start\\\">\\n            <ion-icon name=\\\"chevron-back\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\n        </ion-button>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <form #registerForm=\\\"ngForm\\\" (ngSubmit)=\\\"onRegister(registerForm)\\\" >\\n        <div class=\\\"main_content_div\\\">\\n    \\n            <img src=\\\"assets/imgs/logov2.png\\\" class=\\\"logo\\\">\\n            <ion-label class=\\\"logo_text\\\">ASSIST<span>APP</span></ion-label>\\n    \\n            <ion-label class=\\\"bold_lbl\\\">REGISTRO</ion-label>\\n            <br>\\n            <!-- <ion-label class=\\\"small_lbl\\\">OTP will be sent to the entered <br> mobile number</ion-label> -->\\n            <ion-input  type=\\\"text\\\" \\n                        required \\n                        name=\\\"celular\\\" \\n                        placeholder=\\\"Numero telefonico\\\" \\n                        [(ngModel)]=\\\"usuarioRegistro.celular\\\">\\n            </ion-input>\\n            <!-- <br> -->\\n            <ion-input  type=\\\"text\\\" \\n                        required \\n                        name=\\\"nombre\\\"\\n                        placeholder=\\\"Nombre\\\"\\n                        [(ngModel)]=\\\"usuarioRegistro.nombre\\\">\\n            </ion-input>\\n            <!-- <br> -->\\n            <ion-input  type=\\\"text\\\" \\n                        required \\n                        name=\\\"apellido\\\"\\n                        placeholder=\\\"Apellido\\\"\\n                        [(ngModel)]=\\\"usuarioRegistro.apellido\\\">\\n            </ion-input>\\n            <!-- <br> -->\\n            <ion-input  type=\\\"password\\\" \\n                        required \\n                        name=\\\"password\\\"\\n                        placeholder=\\\"ContraseÃ±a\\\"\\n                        [(ngModel)]=\\\"usuarioRegistro.password\\\">\\n            </ion-input>\\n            <br>\\n            <!-- arreglar css -->\\n            <!-- Select departamentos -->\\n            <!-- <ion-item>\\n                <ion-label>Seleccione Departamento</ion-label>\\n                <ion-select (ionChange)=\\\"obtenerDepartamento($event)\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Volver\\\">\\n                    <div *ngFor=\\\"let dep of departamento\\\" >\\n                        \\n                        <ion-select-option [value]=\\\"dep.departamentoID\\\">{{dep.descripcion}}</ion-select-option>\\n                    </div>\\n                </ion-select>\\n              </ion-item>\\n              <br> -->\\n              <!-- Select ciudades segun departamento seleccionado -->\\n            <!-- <ion-item>\\n                <ion-label>Seleccione Ciudad</ion-label>\\n                <ion-select (ionChange)=\\\"ciudadSeleccionada($event)\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Volver\\\">\\n                    <div *ngFor=\\\"let ciudad of ciudades\\\" >\\n                        <ion-select-option [value]=\\\"ciudad.ciudadID\\\">{{ciudad.descripcion}}</ion-select-option>\\n                    </div>\\n                </ion-select>\\n              </ion-item> -->\\n        \\n            <ion-button \\n                        expand=\\\"block\\\"\\n                        shape=\\\"round\\\"\\n                        class=\\\"gredient_btn\\\" \\n                        type=\\\"submit\\\">\\n                Registrarse\\n            </ion-button>\\n    \\n        </div>\\n\\n\\n    </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VerificationPage } from './verification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VerificationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VerificationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VerificationPageRoutingModule } from './verification-routing.module';\n\nimport { VerificationPage } from './verification.page';\nimport { NgOtpInputModule } from 'ng-otp-input';\n\n// \nimport { IonicStorageModule } from '@ionic/storage-angular';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NgOtpInputModule,\n    VerificationPageRoutingModule,\n    IonicStorageModule.forRoot()\n  ],\n  declarations: [VerificationPage]\n})\nexport class VerificationPageModule {}\n","export default \"ion-toolbar {\\n  --background: var(--ion-color-app-light);\\n}\\n\\nion-content {\\n  --background: var(--ion-color-app-light);\\n}\\n\\n.main_content_div {\\n  padding: 16px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 100%;\\n}\\n\\n.main_content_div .logo {\\n  width: 70px;\\n  margin-top: 40px;\\n}\\n\\n.main_content_div .logo_text {\\n  font-size: 18px;\\n  font-family: \\\"bold\\\";\\n  margin-top: 5px;\\n}\\n\\n.main_content_div .logo_text span {\\n  font-family: \\\"semi-bold\\\";\\n  color: var(--ion-color-primary);\\n}\\n\\n.main_content_div .bold_lbl {\\n  font-size: 22px;\\n  font-family: \\\"semi-bold\\\";\\n  margin-top: 60px;\\n}\\n\\n.main_content_div .small_lbl {\\n  font-size: 14px;\\n  margin-bottom: 20px;\\n  text-align: center;\\n}\\n\\n.main_content_div ion-input {\\n  border: 1px solid lightgrey;\\n  border-radius: 25px;\\n  --padding-start: 16px;\\n  --padding-end: 16px;\\n  margin-bottom: 16px;\\n  background: white;\\n}\\n\\n.main_content_div ion-item {\\n  border: 1px solid lightgrey;\\n  border-radius: 25px;\\n  --padding-start: 16px;\\n  --padding-end: 16px;\\n  background: white;\\n  padding: 16px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  width: 100%;\\n}\\n\\n.main_content_div .gredient_btn {\\n  width: 100%;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdmVyaWZpY2F0aW9uL3ZlcmlmaWNhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3Q0FBQTtBQUNKOztBQUNBO0VBQ0ksd0NBQUE7QUFFSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUFDSjs7QUFFSTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtBQUFSOztBQUdJO0VBQ0ksZUFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQURSOztBQUdRO0VBQ0ksd0JBQUE7RUFDQSwrQkFBQTtBQURaOztBQUtJO0VBQ0ksZUFBQTtFQUNBLHdCQUFBO0VBQ0EsZ0JBQUE7QUFIUjs7QUFNSTtFQUNJLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBSlI7O0FBT0k7RUFDSSwyQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUFMUjs7QUFPSTtFQUNJLDJCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBRUEsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0FBTlI7O0FBYUk7RUFDSSxXQUFBO0VBQ0EsU0FBQTtBQVhSIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdmVyaWZpY2F0aW9uL3ZlcmlmaWNhdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhciB7XG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItYXBwLWxpZ2h0KTtcbn1cbmlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1hcHAtbGlnaHQpO1xufVxuXG5cbi5tYWluX2NvbnRlbnRfZGl2IHtcbiAgICBwYWRkaW5nOiAxNnB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIC8vIGhlaWdodDogMTAwJTtcblxuICAgIC5sb2dvIHtcbiAgICAgICAgd2lkdGg6IDcwcHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgfVxuXG4gICAgLmxvZ29fdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdib2xkJztcbiAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xuXG4gICAgICAgIHNwYW57XG4gICAgICAgICAgICBmb250LWZhbWlseTogJ3NlbWktYm9sZCc7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmJvbGRfbGJsIHtcbiAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgICAgICBmb250LWZhbWlseTogJ3NlbWktYm9sZCc7XG4gICAgICAgIG1hcmdpbi10b3A6IDYwcHg7XG4gICAgfVxuXG4gICAgLnNtYWxsX2xibCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIGlvbi1pbnB1dCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JleTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxNnB4O1xuICAgICAgICAtLXBhZGRpbmctZW5kOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICB9XG4gICAgaW9uLWl0ZW0ge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7XG4gICAgICAgIC0tcGFkZGluZy1zdGFydDogMTZweDtcbiAgICAgICAgLS1wYWRkaW5nLWVuZDogMTZweDtcbiAgICAgICAgLy8gbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxuICAgXG5cbiAgICBcblxuICAgIC5ncmVkaWVudF9idG4ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { Storage } from '@ionic/storage-angular';\nimport { RegistroService } from 'src/app/services/registro.service';\nimport { Role, Departamento, Ciudad } from '../../interfaces/interfaces';\n\n\n@Component({\n  selector: 'app-verification',\n  templateUrl: './verification.page.html',\n  styleUrls: ['./verification.page.scss'],\n})\nexport class VerificationPage implements OnInit {\n\n  rol: Role[] = [];\n  departamento: Departamento[] = []\n  ciudades: Ciudad[] = []\n\n  usuarioRegistro = {\n    celular: '',\n    nombre: '',\n    apellido: '',\n    password: '',\n    departamento: '',\n    ciudad: '',\n    rol: ''\n  }\n\n  constructor(private route: Router, private storage: Storage ,private navCtrl: NavController, private authService: AuthService, private registroService: RegistroService) { \n  \n  }\n\n\n  ngOnInit(){\n\n    \n    // OBTENEMOS LOS DEPARTAMENTOS\n    this.registroService.obternerDepartamento().subscribe(resp => {\n      this.departamento.push(...resp.Departamento);\n    })\n\n  }\n\n\n  // al hacer clic en regstrar ejecutamos la siguiente funcion\n  async onRegister(registerForm: NgForm) {\n\n    // validamos que el formulario sea valido\n    if(registerForm.invalid) { console.log('invalid'); return; }  \n      \n      // hacemos uso de una constante para capturar el valor de lo que resuleve la promesa \n      // creada en el servicio\n     const valido = await this.registroService.registrarUsuario(this.usuarioRegistro);\n\n\n    if(valido) {\n\n      // en caso que la promesa retorne true entonces navegamos al home\n      // ya que login fue exitoso\n      this.navCtrl.navigateRoot('home');\n    } else {\n      // caso contrario reseteamos el formulario\n      registerForm.resetForm();\n    }\n  }\n\n\n  goBack() {\n    this.navCtrl.back()\n  }\n\n\n  /** METODO PARA OBTENER DEPARTAMENTO SELECCIONADO */\n  \n  obtenerDepartamento(event:CustomEvent) {\n    \n    const data = event.detail.value;\n    // llamamos metodo para obtener las ciudades segun departamentoID\n    this.obtenerCiudades(data);\n    // asignamos el departamento ID al objeto de registro de usuario\n    this.usuarioRegistro.departamento = data;\n  }\n\n  /** METODO PARA OBTENER LAS CIUDADES SEGUN DEPARTAMENTO ID */\n\n  obtenerCiudades(depID: string) {\n\n    // hacemos uso del servicio para obtener la respuesta del backend y asignar a la variable creada\n    this.registroService.obtenerCiudades(depID).subscribe(resp => {\n      this.ciudades.push(...resp.Ciudad)\n    });\n  }\n\n  /** OBTENER CIUDAD SELECCIONADA */\n\n  ciudadSeleccionada(event: CustomEvent){\n    // asignamos el ID de la ciudad seleccionada a nuestro objeto de usuario\n    this.usuarioRegistro.ciudad = event.detail.value;\n  }\n\n}\n"]}