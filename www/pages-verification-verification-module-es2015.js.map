{"version":3,"sources":["./src/app/pages/verification/verification.page.html","./src/app/pages/verification/verification-routing.module.ts","./src/app/pages/verification/verification.module.ts","./src/app/pages/verification/verification.page.scss","./src/app/pages/verification/verification.page.ts"],"names":[],"mappings":"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","file":"pages-verification-verification-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar>\\n        <ion-button (click)=\\\"goBack()\\\" fill=\\\"clear\\\" size=\\\"small\\\" slot=\\\"start\\\">\\n            <ion-icon name=\\\"chevron-back\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\n        </ion-button>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <form #registerForm=\\\"ngForm\\\" (ngSubmit)=\\\"onRegister(registerForm)\\\" >\\n        <div class=\\\"main_content_div\\\">\\n    \\n            <img src=\\\"assets/imgs/logov2.png\\\" class=\\\"logo\\\">\\n            <ion-label class=\\\"logo_text\\\">ASSIST<span>APP</span></ion-label>\\n    \\n            <ion-label class=\\\"bold_lbl\\\">REGISTRO</ion-label>\\n            <br>\\n            <!-- <ion-label class=\\\"small_lbl\\\">OTP will be sent to the entered <br> mobile number</ion-label> -->\\n            <ion-input  type=\\\"text\\\" \\n                        required \\n                        name=\\\"celular\\\" \\n                        placeholder=\\\"Numero telefonico\\\" \\n                        [(ngModel)]=\\\"usuarioRegistro.celular\\\">\\n            </ion-input>\\n            <!-- <br> -->\\n            <ion-input  type=\\\"text\\\" \\n                        required \\n                        name=\\\"nombre\\\"\\n                        placeholder=\\\"Nombre\\\"\\n                        [(ngModel)]=\\\"usuarioRegistro.nombre\\\">\\n            </ion-input>\\n            <!-- <br> -->\\n            <ion-input  type=\\\"text\\\" \\n                        required \\n                        name=\\\"apellido\\\"\\n                        placeholder=\\\"Apellido\\\"\\n                        [(ngModel)]=\\\"usuarioRegistro.apellido\\\">\\n            </ion-input>\\n            <!-- <br> -->\\n            <ion-input  type=\\\"password\\\" \\n                        required \\n                        name=\\\"password\\\"\\n                        placeholder=\\\"ContraseÃ±a\\\"\\n                        [(ngModel)]=\\\"usuarioRegistro.password\\\">\\n            </ion-input>\\n            <br>\\n            <!-- arreglar css -->\\n            <!-- Select departamentos -->\\n            <!-- <ion-item>\\n                <ion-label>Seleccione Departamento</ion-label>\\n                <ion-select (ionChange)=\\\"obtenerDepartamento($event)\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Volver\\\">\\n                    <div *ngFor=\\\"let dep of departamento\\\" >\\n                        \\n                        <ion-select-option [value]=\\\"dep.departamentoID\\\">{{dep.descripcion}}</ion-select-option>\\n                    </div>\\n                </ion-select>\\n              </ion-item>\\n              <br> -->\\n              <!-- Select ciudades segun departamento seleccionado -->\\n            <!-- <ion-item>\\n                <ion-label>Seleccione Ciudad</ion-label>\\n                <ion-select (ionChange)=\\\"ciudadSeleccionada($event)\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Volver\\\">\\n                    <div *ngFor=\\\"let ciudad of ciudades\\\" >\\n                        <ion-select-option [value]=\\\"ciudad.ciudadID\\\">{{ciudad.descripcion}}</ion-select-option>\\n                    </div>\\n                </ion-select>\\n              </ion-item> -->\\n        \\n            <ion-button \\n                        expand=\\\"block\\\"\\n                        shape=\\\"round\\\"\\n                        class=\\\"gredient_btn\\\" \\n                        type=\\\"submit\\\">\\n                Registrarse\\n            </ion-button>\\n    \\n        </div>\\n\\n\\n    </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VerificationPage } from './verification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VerificationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VerificationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VerificationPageRoutingModule } from './verification-routing.module';\n\nimport { VerificationPage } from './verification.page';\nimport { NgOtpInputModule } from 'ng-otp-input';\n\n// \nimport { IonicStorageModule } from '@ionic/storage-angular';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NgOtpInputModule,\n    VerificationPageRoutingModule,\n    IonicStorageModule.forRoot()\n  ],\n  declarations: [VerificationPage]\n})\nexport class VerificationPageModule {}\n","export default \"ion-toolbar {\\n  --background: var(--ion-color-app-light);\\n}\\n\\nion-content {\\n  --background: var(--ion-color-app-light);\\n}\\n\\n.main_content_div {\\n  padding: 16px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 100%;\\n}\\n\\n.main_content_div .logo {\\n  width: 70px;\\n  margin-top: 40px;\\n}\\n\\n.main_content_div .logo_text {\\n  font-size: 18px;\\n  font-family: \\\"bold\\\";\\n  margin-top: 5px;\\n}\\n\\n.main_content_div .logo_text span {\\n  font-family: \\\"semi-bold\\\";\\n  color: var(--ion-color-primary);\\n}\\n\\n.main_content_div .bold_lbl {\\n  font-size: 22px;\\n  font-family: \\\"semi-bold\\\";\\n  margin-top: 60px;\\n}\\n\\n.main_content_div .small_lbl {\\n  font-size: 14px;\\n  margin-bottom: 20px;\\n  text-align: center;\\n}\\n\\n.main_content_div ion-input {\\n  border: 1px solid lightgrey;\\n  border-radius: 25px;\\n  --padding-start: 16px;\\n  --padding-end: 16px;\\n  margin-bottom: 16px;\\n  background: white;\\n}\\n\\n.main_content_div ion-item {\\n  border: 1px solid lightgrey;\\n  border-radius: 25px;\\n  --padding-start: 16px;\\n  --padding-end: 16px;\\n  background: white;\\n  padding: 16px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  width: 100%;\\n}\\n\\n.main_content_div .gredient_btn {\\n  width: 100%;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdmVyaWZpY2F0aW9uL3ZlcmlmaWNhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3Q0FBQTtBQUNKOztBQUNBO0VBQ0ksd0NBQUE7QUFFSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUFDSjs7QUFFSTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtBQUFSOztBQUdJO0VBQ0ksZUFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQURSOztBQUdRO0VBQ0ksd0JBQUE7RUFDQSwrQkFBQTtBQURaOztBQUtJO0VBQ0ksZUFBQTtFQUNBLHdCQUFBO0VBQ0EsZ0JBQUE7QUFIUjs7QUFNSTtFQUNJLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBSlI7O0FBT0k7RUFDSSwyQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUFMUjs7QUFPSTtFQUNJLDJCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBRUEsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0FBTlI7O0FBYUk7RUFDSSxXQUFBO0VBQ0EsU0FBQTtBQVhSIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdmVyaWZpY2F0aW9uL3ZlcmlmaWNhdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhciB7XG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItYXBwLWxpZ2h0KTtcbn1cbmlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1hcHAtbGlnaHQpO1xufVxuXG5cbi5tYWluX2NvbnRlbnRfZGl2IHtcbiAgICBwYWRkaW5nOiAxNnB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIC8vIGhlaWdodDogMTAwJTtcblxuICAgIC5sb2dvIHtcbiAgICAgICAgd2lkdGg6IDcwcHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgfVxuXG4gICAgLmxvZ29fdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdib2xkJztcbiAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xuXG4gICAgICAgIHNwYW57XG4gICAgICAgICAgICBmb250LWZhbWlseTogJ3NlbWktYm9sZCc7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmJvbGRfbGJsIHtcbiAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgICAgICBmb250LWZhbWlseTogJ3NlbWktYm9sZCc7XG4gICAgICAgIG1hcmdpbi10b3A6IDYwcHg7XG4gICAgfVxuXG4gICAgLnNtYWxsX2xibCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIGlvbi1pbnB1dCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JleTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxNnB4O1xuICAgICAgICAtLXBhZGRpbmctZW5kOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICB9XG4gICAgaW9uLWl0ZW0ge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7XG4gICAgICAgIC0tcGFkZGluZy1zdGFydDogMTZweDtcbiAgICAgICAgLS1wYWRkaW5nLWVuZDogMTZweDtcbiAgICAgICAgLy8gbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxuICAgXG5cbiAgICBcblxuICAgIC5ncmVkaWVudF9idG4ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { Storage } from '@ionic/storage-angular';\nimport { RegistroService } from 'src/app/services/registro.service';\nimport { Role, Departamento, Ciudad } from '../../interfaces/interfaces';\n\n\n@Component({\n  selector: 'app-verification',\n  templateUrl: './verification.page.html',\n  styleUrls: ['./verification.page.scss'],\n})\nexport class VerificationPage implements OnInit {\n\n  rol: Role[] = [];\n  departamento: Departamento[] = []\n  ciudades: Ciudad[] = []\n\n  usuarioRegistro = {\n    celular: '',\n    nombre: '',\n    apellido: '',\n    password: '',\n    departamento: '',\n    ciudad: '',\n    rol: ''\n  }\n\n  constructor(private route: Router, private storage: Storage ,private navCtrl: NavController, private authService: AuthService, private registroService: RegistroService) { \n  \n  }\n\n\n  ngOnInit(){\n\n    \n    // OBTENEMOS LOS DEPARTAMENTOS\n    this.registroService.obternerDepartamento().subscribe(resp => {\n      this.departamento.push(...resp.Departamento);\n    })\n\n  }\n\n\n  // al hacer clic en regstrar ejecutamos la siguiente funcion\n  async onRegister(registerForm: NgForm) {\n\n    // validamos que el formulario sea valido\n    if(registerForm.invalid) { console.log('invalid'); return; }  \n      \n      // hacemos uso de una constante para capturar el valor de lo que resuleve la promesa \n      // creada en el servicio\n     const valido = await this.registroService.registrarUsuario(this.usuarioRegistro);\n\n\n    if(valido) {\n\n      // en caso que la promesa retorne true entonces navegamos al home\n      // ya que login fue exitoso\n      this.navCtrl.navigateRoot('home');\n    } else {\n      // caso contrario reseteamos el formulario\n      registerForm.resetForm();\n    }\n  }\n\n\n  goBack() {\n    this.navCtrl.back()\n  }\n\n\n  /** METODO PARA OBTENER DEPARTAMENTO SELECCIONADO */\n  \n  obtenerDepartamento(event:CustomEvent) {\n    \n    const data = event.detail.value;\n    // llamamos metodo para obtener las ciudades segun departamentoID\n    this.obtenerCiudades(data);\n    // asignamos el departamento ID al objeto de registro de usuario\n    this.usuarioRegistro.departamento = data;\n  }\n\n  /** METODO PARA OBTENER LAS CIUDADES SEGUN DEPARTAMENTO ID */\n\n  obtenerCiudades(depID: string) {\n\n    // hacemos uso del servicio para obtener la respuesta del backend y asignar a la variable creada\n    this.registroService.obtenerCiudades(depID).subscribe(resp => {\n      this.ciudades.push(...resp.Ciudad)\n    });\n  }\n\n  /** OBTENER CIUDAD SELECCIONADA */\n\n  ciudadSeleccionada(event: CustomEvent){\n    // asignamos el ID de la ciudad seleccionada a nuestro objeto de usuario\n    this.usuarioRegistro.ciudad = event.detail.value;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}